<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุงูุชุณุฌูู - ุงููููุฉ ุงูุชูููุฉ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(to right, #004d40, #00796b);
            color: white;
            padding: 25px 30px;
            text-align: center;
            border-bottom: 5px solid #ff9800;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .header .subtitle {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .header .academic-year {
            background: rgba(255, 255, 255, 0.15);
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            margin-top: 5px;
        }
        
        .progress-bar {
            background: #f0f0f0;
            height: 6px;
            position: relative;
        }
        
        .progress-fill {
            position: absolute;
            height: 100%;
            background: linear-gradient(to right, #00796b, #4db6ac);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .content {
            padding: 30px;
        }
        
        .form-section {
            margin-bottom: 40px;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 30px;
        }
        
        .form-section:last-child {
            border-bottom: none;
        }
        
        .section-title {
            color: #00796b;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 2px solid #ff9800;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: #ff9800;
        }
        
        .applicant-type-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .applicant-type {
            background: #f9f9f9;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .applicant-type:hover {
            border-color: #00796b;
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .applicant-type.selected {
            background: #e8f5e9;
            border-color: #00796b;
            box-shadow: 0 5px 15px rgba(0, 121, 107, 0.2);
        }
        
        .applicant-type i {
            font-size: 40px;
            color: #00796b;
            margin-bottom: 15px;
        }
        
        .applicant-type h3 {
            color: #004d40;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .applicant-type p {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #444;
            font-weight: 500;
            font-size: 15px;
        }
        
        label.required::after {
            content: ' *';
            color: #d32f2f;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 15px;
            transition: all 0.3s;
            background: white;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: #00796b;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 121, 107, 0.1);
        }
        
        .alert {
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .alert-info {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            color: #1565c0;
        }
        
        .alert-warning {
            background: #fff3e0;
            border: 1px solid #ffe0b2;
            color: #ef6c00;
        }
        
        .alert-success {
            background: #e8f5e9;
            border: 1px solid #c8e6c9;
            color: #2e7d32;
        }
        
        .button-container {
            text-align: center;
            margin-top: 40px;
        }
        
        .submit-btn {
            background: linear-gradient(to right, #00796b, #004d40);
            color: white;
            border: none;
            padding: 16px 50px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 5px 15px rgba(0, 121, 107, 0.3);
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 121, 107, 0.4);
        }
        
        .submit-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .success-message {
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            color: #2e7d32;
            padding: 40px;
            border-radius: 10px;
            margin-top: 30px;
            text-align: center;
            display: none;
            border: 2px solid #81c784;
            animation: fadeIn 0.5s ease;
        }
        
        .success-message i {
            font-size: 60px;
            margin-bottom: 20px;
            color: #4caf50;
            animation: bounce 1s ease infinite;
        }
        
        .success-message h2 {
            margin-bottom: 15px;
            font-size: 24px;
        }
        
        .success-message p {
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .footer {
            background: #f5f5f5;
            padding: 25px 20px;
            text-align: center;
            border-top: 1px solid #e0e0e0;
            font-size: 14px;
            color: #666;
        }
        
        .footer a {
            color: #00796b;
            text-decoration: none;
            font-weight: 500;
        }
        
        .footer a:hover {
            text-decoration: underline;
        }
        
        .footer-info {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 15px 0;
        }
        
        .footer-info div {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .social-links {
            margin: 15px 0;
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        
        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: #00796b;
            color: white;
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .social-links a:hover {
            background: #004d40;
            transform: translateY(-3px);
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .applicant-type-container {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .submit-btn {
                width: 100%;
                justify-content: center;
            }
            
            .footer-info {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
        }
        
        .hidden {
            display: none !important;
        }
        
        .form-fields-container {
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .error {
            color: #d32f2f;
            font-size: 13px;
            margin-top: 5px;
            display: none;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #00796b;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ุฃููููุฉ ุงูุฌุณุฑ ููุชุฌุณูุฑ */
        .fa-bridge:before {
            content: "\f562";
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
        }
        
        .payment-warning {
            background: #fff3e0;
            border: 2px solid #ff9800;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            display: none;
        }
        
        .payment-checkbox {
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .payment-checkbox input {
            width: auto;
        }
        
        .error-message {
            color: #d32f2f;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }
        
        .has-error {
            border-color: #d32f2f !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-graduation-cap"></i> ูุธุงู ุงูุชุณุฌูู ุงูุฅููุชุฑููู</h1>
            <div class="subtitle">ุงููููุฉ ุงูุชูููุฉ - ุงููุจูู ูุงูุชุณุฌูู</div>
            <div class="academic-year">ุงููุตู ุงูุฏุฑุงุณู ุงูุซุงูู 1447ูู</div>
        </div>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        
        <div class="content">
            <div class="success-message" id="successMessage">
                <i class="fas fa-check-circle"></i>
                <h2>ุชู ุฅุฑุณุงู ุทูุจู ุจูุฌุงุญ!</h2>
                <p>โ ุชู ุงุณุชูุงู ุทูุจ ุงูุชุณุฌูู ุงูุฎุงุต ุจู ุจูุฌุงุญ.</p>
                <p>๐ง ุณุชุตูู ุฑุณุงูุฉ ุชุฃููุฏ ุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงููุณุฌู ุฎูุงู 24 ุณุงุนุฉ.</p>
                <p>๐จโ๐ผ ุณูุชู ุงูุชูุงุตู ูุนู ูู ูุจู ููุธู ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ูุงููุงููุฉ ูุงุณุชููุงู ุจููุฉ ุงูุฅุฌุฑุงุกุงุช.</p>
                <p>๐ ููููู ุงูุชูุงุตู ูุนูุง ุนูู ุงูุฑูู 011-123-4567 ูุฃู ุงุณุชูุณุงุฑ.</p>
                <p>โฐ ูุฑุฌู ูุชุงุจุนุฉ ุจุฑูุฏู ุงูุฅููุชุฑููู ูุงูุฌูุงู ููุงุทูุงุน ุนูู ุงูุชุญุฏูุซุงุช.</p>
            </div>
            
            <div id="formContainer">
                <div class="alert alert-info">
                    <strong><i class="fas fa-info-circle"></i> ุฅุฑุดุงุฏุงุช ูุงูุฉ:</strong>
                    <ul style="margin-right: 20px; margin-top: 10px;">
                        <li>ุฌููุน ุงูุญููู ุงููููุฒุฉ ุจุนูุงูุฉ (*) ุฅูุฒุงููุฉ</li>
                        <li>ุณูู ูุชู ุงูุชูุงุตู ูุนู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงูุฌูุงู</li>
                        <li>ูุฑุฌู ุงูุชุฃูุฏ ูู ุตุญุฉ ุฌููุน ุงูุจูุงูุงุช ูุจู ุงูุฅุฑุณุงู</li>
                    </ul>
                </div>
                
                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-user-graduate"></i>
                        <span>ููุน ุงููุชูุฏู</span>
                    </div>
                    
                    <div class="applicant-type-container">
                        <div class="applicant-type selected" data-type="new">
                            <i class="fas fa-user-plus"></i>
                            <h3>ุฎุฑูุฌ ุซุงููู ุฌุฏูุฏ</h3>
                            <p>ุงูุชูุฏูู ูููุฑุฉ ุงูุฃููู ุนูู ุงููููุฉ ุงูุชูููุฉ</p>
                        </div>
                        
                        <div class="applicant-type" data-type="current">
                            <i class="fas fa-user-check"></i>
                            <h3>ุทุงูุจ ุญุงููู</h3>
                            <p>ุทุงูุจ ูุณุฌู ุญุงููุงู ูู ุงููููุฉ (ุชุฑู ุซุงูู)</p>
                        </div>
                        
                        <div class="applicant-type" data-type="transfer">
                            <i class="fas fa-exchange-alt"></i>
                            <h3>ููููู ูู ุฌุงูุนุฉ ุฃุฎุฑู</h3>
                            <p>ููู ูู ูููุฉ ุฃู ุฌุงูุนุฉ ุฃุฎุฑู</p>
                        </div>
                        
                        <div class="applicant-type" data-type="bridging">
                            <i class="fas fa-bridge"></i>
                            <h3>ุชุฌุณูุฑ</h3>
                            <p>ูุฎุฑูุฌู ุงูุฏุจููู ุงูุฑุงุบุจูู ูู ุงูุจูุงููุฑููุณ</p>
                        </div>
                    </div>
                </div>
                
                <form id="registrationForm">
                    <input type="hidden" name="access_key" value="8f907260-fc10-46e0-b5b6-422b56f45c19">
                    <input type="hidden" name="subject" value="ุทูุจ ุชุณุฌูู ุฌุฏูุฏ - ุงููููุฉ ุงูุชูููุฉ">
                    <input type="hidden" name="from_name" value="ูุธุงู ุงูุชุณุฌูู - ุงููููุฉ ุงูุชูููุฉ">
                    <input type="hidden" name="replyto" id="replyToEmail">
                    <input type="hidden" name="ููุน_ุงููุชูุฏู" id="applicantType" value="new">
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-id-card"></i>
                            <span>ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ</span>
                        </div>
                        
                        <div class="form-fields-container" id="personalFields">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุงูุงุณู ุงููุงูู (ุฑุจุงุนู)</label>
                                    <input type="text" name="ุงูุงุณู_ุงููุงูู" id="fullName" required>
                                    <div class="error-message" id="fullNameError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุฑูู ุงููููุฉ / ุงูุฅูุงูุฉ</label>
                                    <input type="text" name="ุฑูู_ุงููููุฉ" id="idNumber" required 
                                           pattern="[0-9]{10,11}" 
                                           title="10 ุฃู 11 ุฑูููุง ููุท">
                                    <div class="error-message" id="idNumberError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุชุงุฑูุฎ ุงููููุงุฏ (ูุฌุฑู)</label>
                                    <input type="text" name="ุชุงุฑูุฎ_ุงููููุงุฏ_ูุฌุฑู" id="hijriBirth" required 
                                           placeholder="ูู/ููู/ุดูุฑ/ุณูุฉ (ูุซุงู: 1440/15/08)">
                                    <div class="error-message" id="hijriBirthError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุชุงุฑูุฎ ุงููููุงุฏ (ูููุงุฏู)</label>
                                    <input type="date" name="ุชุงุฑูุฎ_ุงููููุงุฏ_ูููุงุฏู" id="gregorianBirth" required>
                                    <div class="error-message" id="gregorianBirthError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุงูุฌูุณ</label>
                                    <select name="ุงูุฌูุณ" id="gender" required>
                                        <option value="">ุงุฎุชุฑ ุงูุฌูุณ</option>
                                        <option value="ุฐูุฑ">ุฐูุฑ</option>
                                        <option value="ุฃูุซู">ุฃูุซู</option>
                                    </select>
                                    <div class="error-message" id="genderError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงูุฌูุณูุฉ</label>
                                    <input type="text" name="ุงูุฌูุณูุฉ" id="nationality" required>
                                    <div class="error-message" id="nationalityError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงูุญุงูุฉ ุงูุงุฌุชูุงุนูุฉ</label>
                                    <select name="ุงูุญุงูุฉ_ุงูุงุฌุชูุงุนูุฉ" id="maritalStatus" required>
                                        <option value="">ุงุฎุชุฑ ุงูุญุงูุฉ</option>
                                        <option value="ุฃุนุฒุจ">ุฃุนุฒุจ</option>
                                        <option value="ูุชุฒูุฌ">ูุชุฒูุฌ</option>
                                        <option value="ูุทูู">ูุทูู</option>
                                        <option value="ุฃุฑูู">ุฃุฑูู</option>
                                    </select>
                                    <div class="error-message" id="maritalStatusError"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-address-book"></i>
                            <span>ุจูุงูุงุช ุงูุงุชุตุงู</span>
                        </div>
                        
                        <div class="form-fields-container">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุฑูู ุงูุฌูุงู</label>
                                    <input type="tel" name="ุฑูู_ุงูุฌูุงู" id="phoneNumber" required 
                                           pattern="05[0-9]{8}"
                                           placeholder="05xxxxxxxx">
                                    <div class="error-message" id="phoneNumberError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                                    <input type="email" name="ุงูุจุฑูุฏ_ุงูุฅููุชุฑููู" id="email" required>
                                    <div class="error-message" id="emailError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุงูููุทูุฉ</label>
                                    <select name="ุงูููุทูุฉ" id="region" required>
                                        <option value="">ุงุฎุชุฑ ุงูููุทูุฉ</option>
                                        <option value="ุงูุฑูุงุถ">ุงูุฑูุงุถ</option>
                                        <option value="ููุฉ ุงูููุฑูุฉ">ููุฉ ุงูููุฑูุฉ</option>
                                        <option value="ุงููุฏููุฉ ุงููููุฑุฉ">ุงููุฏููุฉ ุงููููุฑุฉ</option>
                                        <option value="ุงูุดุฑููุฉ">ุงูููุทูุฉ ุงูุดุฑููุฉ</option>
                                        <option value="ุงููุตูู">ุงููุตูู</option>
                                        <option value="ุนุณูุฑ">ุนุณูุฑ</option>
                                        <option value="ุชุจูู">ุชุจูู</option>
                                        <option value="ุญุงุฆู">ุญุงุฆู</option>
                                        <option value="ุงูุญุฏูุฏ ุงูุดูุงููุฉ">ุงูุญุฏูุฏ ุงูุดูุงููุฉ</option>
                                        <option value="ุฌุงุฒุงู">ุฌุงุฒุงู</option>
                                        <option value="ูุฌุฑุงู">ูุฌุฑุงู</option>
                                        <option value="ุงูุจุงุญุฉ">ุงูุจุงุญุฉ</option>
                                        <option value="ุงูุฌูู">ุงูุฌูู</option>
                                    </select>
                                    <div class="error-message" id="regionError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงููุฏููุฉ</label>
                                    <select name="ุงููุฏููุฉ" id="city" required>
                                        <option value="">ุงุฎุชุฑ ุงููุฏููุฉ</option>
                                        <optgroup label="ููุทูุฉ ุงูุฑูุงุถ">
                                            <option value="ุงูุฑูุงุถ">ุงูุฑูุงุถ</option>
                                            <option value="ุงูุฏุฑุนูุฉ">ุงูุฏุฑุนูุฉ</option>
                                            <option value="ุงูุฎุฑุฌ">ุงูุฎุฑุฌ</option>
                                            <option value="ุงูุฏูุงุฏูู">ุงูุฏูุงุฏูู</option>
                                            <option value="ุงููุฌูุนุฉ">ุงููุฌูุนุฉ</option>
                                            <option value="ุงููููุนูุฉ">ุงููููุนูุฉ</option>
                                            <option value="ุงูุฃููุงุฌ">ุงูุฃููุงุฌ</option>
                                            <option value="ูุงุฏู ุงูุฏูุงุณุฑ">ูุงุฏู ุงูุฏูุงุณุฑ</option>
                                        </optgroup>
                                        <optgroup label="ููุทูุฉ ููุฉ ุงูููุฑูุฉ">
                                            <option value="ููุฉ ุงูููุฑูุฉ">ููุฉ ุงูููุฑูุฉ</option>
                                            <option value="ุฌุฏุฉ">ุฌุฏุฉ</option>
                                            <option value="ุงูุทุงุฆู">ุงูุทุงุฆู</option>
                                            <option value="ุงููููุฐุฉ">ุงููููุฐุฉ</option>
                                            <option value="ุงูููุซ">ุงูููุซ</option>
                                            <option value="ุฑุงุจุบ">ุฑุงุจุบ</option>
                                            <option value="ุฎููุต">ุฎููุต</option>
                                        </optgroup>
                                        <optgroup label="ููุทูุฉ ุงููุฏููุฉ ุงููููุฑุฉ">
                                            <option value="ุงููุฏููุฉ ุงููููุฑุฉ">ุงููุฏููุฉ ุงููููุฑุฉ</option>
                                            <option value="ููุจุน">ููุจุน</option>
                                            <option value="ุงูุนูุง">ุงูุนูุง</option>
                                            <option value="ุงูููุฏ">ุงูููุฏ</option>
                                            <option value="ุฎูุจุฑ">ุฎูุจุฑ</option>
                                        </optgroup>
                                        <optgroup label="ุงูููุทูุฉ ุงูุดุฑููุฉ">
                                            <option value="ุงูุฏูุงู">ุงูุฏูุงู</option>
                                            <option value="ุงูุฎุจุฑ">ุงูุฎุจุฑ</option>
                                            <option value="ุงูุธูุฑุงู">ุงูุธูุฑุงู</option>
                                            <option value="ุงูุฃุญุณุงุก">ุงูุฃุญุณุงุก</option>
                                            <option value="ุงููุทูู">ุงููุทูู</option>
                                            <option value="ุจููู">ุจููู</option>
                                            <option value="ุญูุฑ ุงูุจุงุทู">ุญูุฑ ุงูุจุงุทู</option>
                                            <option value="ุงูุฌุจูู">ุงูุฌุจูู</option>
                                            <option value="ุงููุนูุฑูุฉ">ุงููุนูุฑูุฉ</option>
                                        </optgroup>
                                        <optgroup label="ูุฏู ุฃุฎุฑู">
                                            <option value="ุฃุจูุง">ุฃุจูุง</option>
                                            <option value="ุงูุจุงุญุฉ">ุงูุจุงุญุฉ</option>
                                            <option value="ุชุจูู">ุชุจูู</option>
                                            <option value="ุฌุงุฒุงู">ุฌุงุฒุงู</option>
                                            <option value="ุญุงุฆู">ุญุงุฆู</option>
                                            <option value="ุณูุงูุง">ุณูุงูุง</option>
                                            <option value="ุนุฑุนุฑ">ุนุฑุนุฑ</option>
                                            <option value="ูุฌุฑุงู">ูุฌุฑุงู</option>
                                        </optgroup>
                                    </select>
                                    <div class="error-message" id="cityError"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">ุงูุนููุงู ุงูุชูุตููู</label>
                                <textarea name="ุงูุนููุงู_ุงูุชูุตููู" id="address" rows="3" required></textarea>
                                <div class="error-message" id="addressError"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-graduation-cap"></i>
                            <span>ุงูุจูุงูุงุช ุงูุฃูุงุฏูููุฉ</span>
                        </div>
                        
                        <div class="payment-warning" id="paymentWarning">
                            <strong><i class="fas fa-exclamation-triangle"></i> ุชูุจูู:</strong>
                            <p>ูุฐุง ุงููุณุงุฑ (ูุณุงุฆู / ุชุนููู ุนู ุจุนุฏ) ุจุฑุณูู ุฏุฑุงุณูุฉ.</p>
                            <p>ูุฑุฌู ุงูุนูู ุฃู ุงูุฏูุน ูุง ูุชู ุงูุขูุ ุจู ุณูููู ุนูุฏ ูุฑุงุฌุนุฉ ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ูุงููุงููุฉ.</p>
                        </div>
                        
                        <div class="payment-checkbox hidden" id="paymentCheckbox">
                            <input type="checkbox" id="paymentAgreement" required>
                            <label for="paymentAgreement" class="required">
                                ุฃูุงูู ุนูู ุฃู ูุฐุง ุงููุณุงุฑ ุจุฑุณูู ุฏุฑุงุณูุฉ ูุณุฃููู ุจุงูุฏูุน ุนูุฏ ูุฑุงุฌุนุฉ ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ูุงููุงููุฉ
                            </label>
                        </div>
                        
                        <div class="form-fields-container" id="newStudentFields">
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>ูุฎุฑูุฌู ุงูุซุงูููุฉ:</strong> ูุฌุจ ุฅุฏุฎุงู ุจูุงูุงุช ุงูุซุงูููุฉ ุจุงููุงูู
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ููุน ุงููุคูู</label>
                                    <select name="ููุน_ุงููุคูู" id="qualificationType" required>
                                        <option value="">ุงุฎุชุฑ ููุน ุงููุคูู</option>
                                        <option value="ุซุงูููุฉ ุนุงูุฉ">ุซุงูููุฉ ุนุงูุฉ</option>
                                        <option value="ุซุงูููุฉ ุชุฌุงุฑูุฉ">ุซุงูููุฉ ุชุฌุงุฑูุฉ</option>
                                        <option value="ุซุงูููุฉ ุตูุงุนูุฉ">ุซุงูููุฉ ุตูุงุนูุฉ</option>
                                        <option value="ุซุงูููุฉ ุฒุฑุงุนูุฉ">ุซุงูููุฉ ุฒุฑุงุนูุฉ</option>
                                        <option value="ุซุงูููุฉ ููุฏููุฉ">ุซุงูููุฉ ููุฏููุฉ</option>
                                        <option value="ุซุงูููุฉ ุตุญูุฉ">ุซุงูููุฉ ุตุญูุฉ</option>
                                        <option value="ุซุงูููุฉ ุดุฑุนูุฉ">ุซุงูููุฉ ุดุฑุนูุฉ</option>
                                        <option value="ุซุงูููุฉ ุชุญููุธ ุงููุฑุขู">ุซุงูููุฉ ุชุญููุธ ุงููุฑุขู</option>
                                        <option value="ุซุงูููุฉ ูุนูุฏ ุงูุฃุฆูุฉ ูุงูุฎุทุจุงุก">ุซุงูููุฉ ูุนูุฏ ุงูุฃุฆูุฉ ูุงูุฎุทุจุงุก</option>
                                    </select>
                                    <div class="error-message" id="qualificationTypeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุชุฎุตุต ุงูุซุงูููุฉ</label>
                                    <select name="ุชุฎุตุต_ุงูุซุงูููุฉ" id="highschoolSpecialization" required>
                                        <option value="">ุงุฎุชุฑ ุงูุชุฎุตุต</option>
                                        <optgroup label="ุงูุนููู">
                                            <option value="ุนููู ุทุจูุนู">ุนููู ุทุจูุนู</option>
                                            <option value="ุนููู ุญุงุณุจ ุขูู">ุนููู ุญุงุณุจ ุขูู</option>
                                            <option value="ุนููู ููุฏุณู">ุนููู ููุฏุณู</option>
                                        </optgroup>
                                        <optgroup label="ุงูุฃุฏุจู">
                                            <option value="ุฃุฏุจู ุฅุฏุงุฑู">ุฃุฏุจู ุฅุฏุงุฑู</option>
                                            <option value="ุฃุฏุจู ูุงูููู">ุฃุฏุจู ูุงูููู</option>
                                            <option value="ุฃุฏุจู ุดุฑุนู">ุฃุฏุจู ุดุฑุนู</option>
                                            <option value="ุฃุฏุจู ูุบุงุช">ุฃุฏุจู ูุบุงุช</option>
                                        </optgroup>
                                        <optgroup label="ุงูุชููู">
                                            <option value="ุชููู ููุฑุจุงุก">ุชููู ููุฑุจุงุก</option>
                                            <option value="ุชููู ูููุงูููุง">ุชููู ูููุงูููุง</option>
                                            <option value="ุชููู ุฅููุชุฑูููุงุช">ุชููู ุฅููุชุฑูููุงุช</option>
                                            <option value="ุชููู ุญุงุณุจ ุขูู">ุชููู ุญุงุณุจ ุขูู</option>
                                            <option value="ุชููู ุจูุงุก ูุชุดููุฏ">ุชููู ุจูุงุก ูุชุดููุฏ</option>
                                            <option value="ุชููู ุชุฏูุฆุฉ ูุชูููู">ุชููู ุชุฏูุฆุฉ ูุชูููู</option>
                                            <option value="ุชููู ุณูุงุฑุงุช">ุชููู ุณูุงุฑุงุช</option>
                                        </optgroup>
                                        <optgroup label="ุงูุฅุฏุงุฑู ูุงูุชุฌุงุฑู">
                                            <option value="ุฅุฏุงุฑุฉ ุฃุนูุงู">ุฅุฏุงุฑุฉ ุฃุนูุงู</option>
                                            <option value="ูุญุงุณุจุฉ">ูุญุงุณุจุฉ</option>
                                            <option value="ุณูุฑุชุงุฑูุฉ">ุณูุฑุชุงุฑูุฉ</option>
                                            <option value="ุชุณููู">ุชุณููู</option>
                                        </optgroup>
                                        <optgroup label="ุงูุตุญู">
                                            <option value="ุตุญู ุชูุฑูุถ">ุตุญู ุชูุฑูุถ</option>
                                            <option value="ุตุญู ุตูุฏูุฉ">ุตุญู ุตูุฏูุฉ</option>
                                            <option value="ุตุญู ูุฎุชุจุฑุงุช">ุตุญู ูุฎุชุจุฑุงุช</option>
                                            <option value="ุตุญู ุฃุดุนุฉ">ุตุญู ุฃุดุนุฉ</option>
                                        </optgroup>
                                        <optgroup label="ุงูุฒุฑุงุนู">
                                            <option value="ุฒุฑุงุนู ุนุงู">ุฒุฑุงุนู ุนุงู</option>
                                            <option value="ุฅูุชุงุฌ ุญููุงูู">ุฅูุชุงุฌ ุญููุงูู</option>
                                            <option value="ุฅูุชุงุฌ ูุจุงุชู">ุฅูุชุงุฌ ูุจุงุชู</option>
                                        </optgroup>
                                        <optgroup label="ุงูููุฏูู">
                                            <option value="ููุฏูู ูุณูุงุญุฉ">ููุฏูู ูุณูุงุญุฉ</option>
                                            <option value="ุฅุฏุงุฑุฉ ุงููุทุงุนู">ุฅุฏุงุฑุฉ ุงููุทุงุนู</option>
                                        </optgroup>
                                    </select>
                                    <div class="error-message" id="highschoolSpecializationError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุณูุฉ ุงูุชุฎุฑุฌ (ูุฌุฑู)</label>
                                    <input type="text" name="ุณูุฉ_ุงูุชุฎุฑุฌ_ูุฌุฑู" id="graduationYear" required 
                                           placeholder="ูู 1447">
                                    <div class="error-message" id="graduationYearError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงููุนุฏู / ุงููุณุจุฉ</label>
                                    <input type="number" name="ุงููุนุฏู" id="average" step="0.01" min="50" max="100" required>
                                    <div class="error-message" id="averageError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>ุฏุฑุฌุฉ ุงุฎุชุจุงุฑ ุงููุฏุฑุงุช</label>
                                    <input type="number" name="ุฏุฑุฌุฉ_ุงููุฏุฑุงุช" id="aptitudeScore" step="0.01" min="0" max="100">
                                    <div class="error-message" id="aptitudeScoreError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label>ุฏุฑุฌุฉ ุงุฎุชุจุงุฑ ุงูุชุญุตููู</label>
                                    <input type="number" name="ุฏุฑุฌุฉ_ุงูุชุญุตููู" id="achievementScore" step="0.01" min="0" max="100">
                                    <div class="error-message" id="achievementScoreError"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-fields-container hidden" id="currentStudentFields">
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>ููุทูุงุจ ุงูุญุงูููู:</strong> ุฃุฏุฎู ุจูุงูุงุชู ุงูุญุงููุฉ ูู ุงููููุฉ
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุงูุฑูู ุงูุฃูุงุฏููู</label>
                                    <input type="text" name="ุงูุฑูู_ุงูุฃูุงุฏููู_ุญุงูู" id="currentAcademicNumber" required>
                                    <div class="error-message" id="currentAcademicNumberError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงููุตู ุงูุญุงูู</label>
                                    <input type="text" name="ุงููุตู_ุงูุญุงูู" id="currentSemester" required>
                                    <div class="error-message" id="currentSemesterError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงููุนุฏู ุงูุชุฑุงููู</label>
                                    <input type="number" name="ุงููุนุฏู_ุงูุชุฑุงููู_ุญุงูู" id="currentGPA" step="0.01" min="0" max="5" required>
                                    <div class="error-message" id="currentGPAError"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">ุงูุชุฎุตุต ุงูุญุงูู</label>
                                <select name="ุงูุชุฎุตุต_ุงูุญุงูู" id="currentSpecialization" required>
                                    <option value="">ุงุฎุชุฑ ุงูุชุฎุตุต ุงูุญุงูู</option>
                                    <optgroup label="ุงูุชูููุฉ ุงูุฅุฏุงุฑูุฉ">
                                        <option value="ุฅุฏุงุฑุฉ ููุชุจูุฉ">ุฅุฏุงุฑุฉ ููุชุจูุฉ</option>
                                        <option value="ูุญุงุณุจุฉ">ูุญุงุณุจุฉ</option>
                                        <option value="ุฅุฏุงุฑุฉ ุณุฌูุงุช ุทุจูุฉ">ุฅุฏุงุฑุฉ ุณุฌูุงุช ุทุจูุฉ</option>
                                    </optgroup>
                                    <optgroup label="ุงูุญุงุณุจ ูุชูููุฉ ุงููุนูููุงุช">
                                        <option value="ุฏุนู ููู">ุฏุนู ููู</option>
                                        <option value="ุดุจูุงุช">ุดุจูุงุช</option>
                                        <option value="ุจุฑูุฌุฉ">ุจุฑูุฌุฉ</option>
                                    </optgroup>
                                </select>
                                <div class="error-message" id="currentSpecializationError"></div>
                            </div>
                        </div>
                        
                        <div class="form-fields-container hidden" id="transferStudentFields">
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>ููููููููู:</strong> ุฃุฏุฎู ุจูุงูุงุชู ูู ุงููููุฉ ุงูุณุงุจูุฉ
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุงููููุฉ / ุงูุฌุงูุนุฉ ุงูุณุงุจูุฉ</label>
                                    <input type="text" name="ุงููููุฉ_ุงูุณุงุจูุฉ" id="previousCollege" required>
                                    <div class="error-message" id="previousCollegeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงูุชุฎุตุต ุงูุณุงุจู</label>
                                    <input type="text" name="ุงูุชุฎุตุต_ุงูุณุงุจู" id="previousSpecialization" required>
                                    <div class="error-message" id="previousSpecializationError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุงููุนุฏู ุงูุชุฑุงููู</label>
                                    <input type="number" name="ุงููุนุฏู_ุงูุชุฑุงููู_ููู" id="transferGPA" step="0.01" min="0" max="5" required>
                                    <div class="error-message" id="transferGPAError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ุงูุณุงุนุงุช ุงูููุฌุฒุฉ</label>
                                    <input type="number" name="ุงูุณุงุนุงุช_ุงูููุฌุฒุฉ" id="completedHours" min="0" required>
                                    <div class="error-message" id="completedHoursError"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-list-ol"></i>
                            <span>ุงูุฑุบุจุงุช ูุงูุชุฎุตุตุงุช</span>
                        </div>
                        
                        <div class="form-fields-container">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุงููููุฉ ุงูุชูููุฉ ุงูููุถูุฉ</label>
                                    <select name="ุงููููุฉ_ุงูุชูููุฉ" id="college" required>
                                        <option value="">ุงุฎุชุฑ ุงููููุฉ</option>
                                        <optgroup label="ููุทูุฉ ุงูุฑูุงุถ">
                                            <option value="ุงูุฑูุงุถ">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฑูุงุถ</option>
                                            <option value="ุงูุฎุฑุฌ">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฎุฑุฌ</option>
                                            <option value="ุงูุฏูุงุฏูู">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฏูุงุฏูู</option>
                                            <option value="ุงูุฒููู">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฒููู</option>
                                            <option value="ุงููุฌูุนุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุงููุฌูุนุฉ</option>
                                            <option value="ุดูุฑุงุก">ุงููููุฉ ุงูุชูููุฉ ุจุดูุฑุงุก</option>
                                            <option value="ุงููููุนูุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุงููููุนูุฉ</option>
                                            <option value="ูุงุฏู ุงูุฏูุงุณุฑ">ุงููููุฉ ุงูุชูููุฉ ุจูุงุฏู ุงูุฏูุงุณุฑ</option>
                                            <option value="ุงูุฃููุงุฌ">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฃููุงุฌ</option>
                                        </optgroup>
                                        <optgroup label="ููุทูุฉ ููุฉ ุงูููุฑูุฉ">
                                            <option value="ููุฉ">ุงููููุฉ ุงูุชูููุฉ ุจููุฉ ุงูููุฑูุฉ</option>
                                            <option value="ุฌุฏุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุฌุฏุฉ</option>
                                            <option value="ุงูุทุงุฆู">ุงููููุฉ ุงูุชูููุฉ ุจุงูุทุงุฆู</option>
                                            <option value="ุงููููุฐุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุงููููุฐุฉ</option>
                                        </optgroup>
                                        <optgroup label="ููุทูุฉ ุงููุฏููุฉ ุงููููุฑุฉ">
                                            <option value="ุงููุฏููุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุงููุฏููุฉ ุงููููุฑุฉ</option>
                                            <option value="ููุจุน">ุงููููุฉ ุงูุชูููุฉ ุจููุจุน</option>
                                        </optgroup>
                                        <optgroup label="ุงูููุทูุฉ ุงูุดุฑููุฉ">
                                            <option value="ุงูุฏูุงู">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฏูุงู</option>
                                            <option value="ุงูุฃุญุณุงุก">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฃุญุณุงุก</option>
                                            <option value="ุงูุฌุจูู">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฌุจูู</option>
                                            <option value="ุจููู">ุงููููุฉ ุงูุชูููุฉ ุจุจููู</option>
                                            <option value="ุญูุฑ ุงูุจุงุทู">ุงููููุฉ ุงูุชูููุฉ ุจุญูุฑ ุงูุจุงุทู</option>
                                        </optgroup>
                                        <optgroup label="ููุทูุฉ ุงููุตูู">
                                            <option value="ุจุฑูุฏุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุจุฑูุฏุฉ</option>
                                            <option value="ุนููุฒุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุนููุฒุฉ</option>
                                            <option value="ุงููุฐูุจ">ุงููููุฉ ุงูุชูููุฉ ุจุงููุฐูุจ</option>
                                            <option value="ุงูุฑุณ">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฑุณ</option>
                                        </optgroup>
                                        <optgroup label="ููุทูุฉ ุนุณูุฑ">
                                            <option value="ุฃุจูุง">ุงููููุฉ ุงูุชูููุฉ ุจุฃุจูุง</option>
                                            <option value="ุฎููุณ ูุดูุท">ุงููููุฉ ุงูุชูููุฉ ุจุฎููุณ ูุดูุท</option>
                                            <option value="ุงูููุงุต">ุงููููุฉ ุงูุชูููุฉ ุจุงูููุงุต</option>
                                            <option value="ุจููุณูุฑ">ุงููููุฉ ุงูุชูููุฉ ุจุจููุณูุฑ</option>
                                        </optgroup>
                                        <optgroup label="ููุทูุฉ ุชุจูู">
                                            <option value="ุชุจูู">ุงููููุฉ ุงูุชูููุฉ ุจุชุจูู</option>
                                            <option value="ุงููุฌู">ุงููููุฉ ุงูุชูููุฉ ุจุงููุฌู</option>
                                            <option value="ุถุจุงุก">ุงููููุฉ ุงูุชูููุฉ ุจุถุจุงุก</option>
                                        </optgroup>
                                        <optgroup label="ููุทูุฉ ุญุงุฆู">
                                            <option value="ุญุงุฆู">ุงููููุฉ ุงูุชูููุฉ ุจุญุงุฆู</option>
                                            <option value="ุงูุบุฒุงูุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุงูุบุฒุงูุฉ</option>
                                        </optgroup>
                                        <optgroup label="ููุงุทู ุฃุฎุฑู">
                                            <option value="ุฌุงุฒุงู">ุงููููุฉ ุงูุชูููุฉ ุจุฌุงุฒุงู</option>
                                            <option value="ูุฌุฑุงู">ุงููููุฉ ุงูุชูููุฉ ุจูุฌุฑุงู</option>
                                            <option value="ุงูุจุงุญุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุงูุจุงุญุฉ</option>
                                            <option value="ุงูุฌูู">ุงููููุฉ ุงูุชูููุฉ ุจุงูุฌูู</option>
                                            <option value="ุงูุญุฏูุฏ ุงูุดูุงููุฉ">ุงููููุฉ ุงูุชูููุฉ ุจุงูุญุฏูุฏ ุงูุดูุงููุฉ</option>
                                        </optgroup>
                                    </select>
                                    <div class="error-message" id="collegeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ููุน ุงูุฏุฑุงุณุฉ</label>
                                    <select name="ููุน_ุงูุฏุฑุงุณุฉ" id="studyType" required>
                                        <option value="">ุงุฎุชุฑ ููุน ุงูุฏุฑุงุณุฉ</option>
                                        <option value="ููุชุธู">ููุชุธู</option>
                                        <option value="ูุณุงุฆู">ูุณุงุฆู</option>
                                        <option value="ุงูุชุณุงุจ">ุงูุชุณุงุจ</option>
                                        <option value="ุชุนููู ุนู ุจุนุฏ">ุชุนููู ุนู ุจุนุฏ</option>
                                    </select>
                                    <div class="error-message" id="studyTypeError"></div>
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>ููุงุญุธุฉ:</strong> ูุฑุฌู ุงุฎุชูุงุฑ ุงูุชุฎุตุตุงุช ุงูููุงุณุจุฉ ููุคููู ูุฌูุณู
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ุงูุฑุบุจุฉ ุงูุฃููู</label>
                                    <select name="ุงูุฑุบุจุฉ_ุงูุฃููู" id="firstPreference" required>
                                        <option value="">ุงุฎุชุฑ ุงูุชุฎุตุต</option>
                                        <!-- ุงูุชูููุฉ ุงูุฅุฏุงุฑูุฉ -->
                                        <optgroup label="ุงูุชูููุฉ ุงูุฅุฏุงุฑูุฉ">
                                            <option value="ุฏุจููู ุงูุฅุฏุงุฑุฉ ุงูููุชุจูุฉ">ุฏุจููู ุงูุฅุฏุงุฑุฉ ุงูููุชุจูุฉ</option>
                                            <option value="ุฏุจููู ุงูุณูุฑุชุงุฑูุฉ ุงูุทุจูุฉ">ุฏุจููู ุงูุณูุฑุชุงุฑูุฉ ุงูุทุจูุฉ</option>
                                            <option value="ุฏุจููู ุงูุณูุฑุชุงุฑูุฉ ุงูุชูููุฐูุฉ">ุฏุจููู ุงูุณูุฑุชุงุฑูุฉ ุงูุชูููุฐูุฉ</option>
                                            <option value="ุฏุจููู ุฅุฏุงุฑุฉ ุงููุณุชูุฏุนุงุช">ุฏุจููู ุฅุฏุงุฑุฉ ุงููุณุชูุฏุนุงุช</option>
                                            <option value="ุฏุจููู ุฅุฏุงุฑุฉ ุงูููุงุชุจ">ุฏุจููู ุฅุฏุงุฑุฉ ุงูููุงุชุจ</option>
                                            <option value="ุฏุจููู ุงูุณูุฑุชุงุฑูุฉ ูุฅุฏุงุฑุฉ ุงูููุงุชุจ">ุฏุจููู ุงูุณูุฑุชุงุฑูุฉ ูุฅุฏุงุฑุฉ ุงูููุงุชุจ</option>
                                            <option value="ุฏุจููู ุงููุญุงุณุจุฉ">ุฏุจููู ุงููุญุงุณุจุฉ</option>
                                            <option value="ุฏุจููู ุงููุญุงุณุจุฉ ุงููุงููุฉ">ุฏุจููู ุงููุญุงุณุจุฉ ุงููุงููุฉ</option>
                                            <option value="ุฏุจููู ุงููุญุงุณุจุฉ ุงูุถุฑูุจูุฉ">ุฏุจููู ุงููุญุงุณุจุฉ ุงูุถุฑูุจูุฉ</option>
                                            <option value="ุฏุจููู ุงูุณูุฑุชุงุฑูุฉ ูุงููุญุงุณุจุฉ">ุฏุจููู ุงูุณูุฑุชุงุฑูุฉ ูุงููุญุงุณุจุฉ</option>
                                            <option value="ุฏุจููู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู">ุฏุจููู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู</option>
                                            <option value="ุฏุจููู ุงูุชุณููู">ุฏุจููู ุงูุชุณููู</option>
                                            <option value="ุฏุจููู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ">ุฏุจููู ุงูุฅุฏุงุฑุฉ ุงููุงููุฉ</option>
                                        </optgroup>
                                        <!-- ุงูุญุงุณุจ ูุชูููุฉ ุงููุนูููุงุช -->
                                        <optgroup label="ุงูุญุงุณุจ ูุชูููุฉ ุงููุนูููุงุช">
                                            <option value="ุฏุจููู ุฏุนู ููู ููุญุงุณุจ ุงูุขูู">ุฏุจููู ุฏุนู ููู ููุญุงุณุจ ุงูุขูู</option>
                                            <option value="ุฏุจููู ุดุจูุงุช ุงูุญุงุณุจ ุงูุขูู">ุฏุจููู ุดุจูุงุช ุงูุญุงุณุจ ุงูุขูู</option>
                                            <option value="ุฏุจููู ุจุฑูุฌุฉ ูุชุทููุฑ ุงูููุจ">ุฏุจููู ุจุฑูุฌุฉ ูุชุทููุฑ ุงูููุจ</option>
                                            <option value="ุฏุจููู ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุฌูุงู">ุฏุจููู ุจุฑูุฌุฉ ุชุทุจููุงุช ุงูุฌูุงู</option>
                                            <option value="ุฏุจููู ุฃูู ุงููุนูููุงุช">ุฏุจููู ุฃูู ุงููุนูููุงุช</option>
                                            <option value="ุฏุจููู ููุงุนุฏ ุงูุจูุงูุงุช">ุฏุจููู ููุงุนุฏ ุงูุจูุงูุงุช</option>
                                            <option value="ุฏุจููู ุชุญููู ุงููุธู">ุฏุจููู ุชุญููู ุงููุธู</option>
                                            <option value="ุฏุจููู ุฅุฏุงุฑุฉ ุดุจูุงุช">ุฏุจููู ุฅุฏุงุฑุฉ ุดุจูุงุช</option>
                                            <option value="ุฏุจููู ุชุทููุฑ ุงูุจุฑูุฌูุงุช">ุฏุจููู ุชุทููุฑ ุงูุจุฑูุฌูุงุช</option>
                                            <option value="ุฏุจููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู">ุฏุจููู ุงูุฐูุงุก ุงูุงุตุทูุงุนู</option>
                                            <option value="ุฏุจููู ุนูู ุงูุจูุงูุงุช">ุฏุจููู ุนูู ุงูุจูุงูุงุช</option>
                                            <option value="ุฏุจููู ุฃูู ุณูุจุฑุงูู">ุฏุจููู ุฃูู ุณูุจุฑุงูู</option>
                                        </optgroup>
                                        <!-- ุงูุชูููุฉ ุงูููุฑุจุงุฆูุฉ -->
                                        <optgroup label="ุงูุชูููุฉ ุงูููุฑุจุงุฆูุฉ">
                                            <option value="ุจูุงููุฑููุณ ุงูููู ุงูููุฑุจุงุฆูุฉ">ุจูุงููุฑููุณ ุงูููู ุงูููุฑุจุงุฆูุฉ (ุชุทุจููู)</option>
                                            <option value="ุฏุจููู ุงูุชุฑููุจุงุช ุงูููุฑุจุงุฆูุฉ">ุฏุจููู ุงูุชุฑููุจุงุช ุงูููุฑุจุงุฆูุฉ</option>
                                            <option value="ุฏุจููู ุตูุงูุฉ ุงูุฃุฌูุฒุฉ ุงูููุฑุจุงุฆูุฉ">ุฏุจููู ุตูุงูุฉ ุงูุฃุฌูุฒุฉ ุงูููุฑุจุงุฆูุฉ</option>
                                            <option value="ุฏุจููู ุชูุฒูุน ุงูุทุงูุฉ ุงูููุฑุจุงุฆูุฉ">ุฏุจููู ุชูุฒูุน ุงูุทุงูุฉ ุงูููุฑุจุงุฆูุฉ</option>
                                            <option value="ุฏุจููู ุงูุชุญูู ุงูุขูู">ุฏุจููู ุงูุชุญูู ุงูุขูู</option>
                                            <option value="ุฏุจููู ุงูุฅููุชุฑูููุงุช ุงูุตูุงุนูุฉ">ุฏุจููู ุงูุฅููุชุฑูููุงุช ุงูุตูุงุนูุฉ</option>
                                            <option value="ุฏุจููู ุงูุฃูุธูุฉ ุงูููุฑุจุงุฆูุฉ ูู ุงููุจุงูู">ุฏุจููู ุงูุฃูุธูุฉ ุงูููุฑุจุงุฆูุฉ ูู ุงููุจุงูู</option>
                                        </optgroup>
                                        <!-- ุงูุชูููุฉ ุงูุฅููุชุฑูููุฉ -->
                                        <optgroup label="ุงูุชูููุฉ ุงูุฅููุชุฑูููุฉ">
                                            <option value="ุฏุจููู ุงูุฅููุชุฑูููุงุช ุงูุตูุงุนูุฉ">ุฏุจููู ุงูุฅููุชุฑูููุงุช ุงูุตูุงุนูุฉ</option>
                                            <option value="ุฏุจููู ุฃุฌูุฒุฉ ุงูููุงุณ ูุงูุชุญูู">ุฏุจููู ุฃุฌูุฒุฉ ุงูููุงุณ ูุงูุชุญูู</option>
                                            <option value="ุฏุจููู ุงูุงุชุตุงูุงุช ุงูุฅููุชุฑูููุฉ">ุฏุจููู ุงูุงุชุตุงูุงุช ุงูุฅููุชุฑูููุฉ</option>
                                            <option value="ุฏุจููู ุงูุฃุฌูุฒุฉ ุงูุทุจูุฉ">ุฏุจููู ุงูุฃุฌูุฒุฉ ุงูุทุจูุฉ</option>
                                            <option value="ุฏุจููู ุตูุงูุฉ ุงูุฃุฌูุฒุฉ ุงูุฅููุชุฑูููุฉ">ุฏุจููู ุตูุงูุฉ ุงูุฃุฌูุฒุฉ ุงูุฅููุชุฑูููุฉ</option>
                                            <option value="ุฏุจููู ุงูุฃูุธูุฉ ุงููุฏูุฌุฉ">ุฏุจููู ุงูุฃูุธูุฉ ุงููุฏูุฌุฉ</option>
                                            <option value="ุฏุจููู ุงูุชุญูู ุงูุตูุงุนู">ุฏุจููู ุงูุชุญูู ุงูุตูุงุนู</option>
                                        </optgroup>
                                        <!-- ุงูุชูููุฉ ุงููููุงููููุฉ -->
                                        <optgroup label="ุงูุชูููุฉ ุงููููุงููููุฉ">
                                            <option value="ุจูุงููุฑููุณ ุงูุชูููุฉ ุงููููุงููููุฉ">ุจูุงููุฑููุณ ุงูุชูููุฉ ุงููููุงููููุฉ</option>
                                            <option value="ุฏุจููู ุตูุงูุฉ ุงูุขูุงุช ุงููููุงููููุฉ">ุฏุจููู ุตูุงูุฉ ุงูุขูุงุช ุงููููุงููููุฉ</option>
                                            <option value="ุฏุจููู ุงูุชุจุฑูุฏ ูุงูุชูููู">ุฏุจููู ุงูุชุจุฑูุฏ ูุงูุชูููู</option>
                                            <option value="ุฏุจููู ุงูุณูุงุฑุงุช ูุงููุนุฏุงุช ุงูุซูููุฉ">ุฏุจููู ุงูุณูุงุฑุงุช ูุงููุนุฏุงุช ุงูุซูููุฉ</option>
                                            <option value="ุฏุจููู ุงูุณุจุงูุฉ ูุงูุชุฏูุฆุฉ">ุฏุจููู ุงูุณุจุงูุฉ ูุงูุชุฏูุฆุฉ</option>
                                            <option value="ุฏุจููู ุงููุญุงู ูุงูุชุตููุน">ุฏุจููู ุงููุญุงู ูุงูุชุตููุน</option>
                                            <option value="ุฏุจููู ุงููุนุฏุงุช ุงูุตูุงุนูุฉ">ุฏุจููู ุงููุนุฏุงุช ุงูุตูุงุนูุฉ</option>
                                            <option value="ุฏุจููู ุงูููุฐุฌุฉ ูุงูุชุตููุน ุจุงูุญุงุณุจ">ุฏุจููู ุงูููุฐุฌุฉ ูุงูุชุตููุน ุจุงูุญุงุณุจ</option>
                                        </optgroup>
                                    </select>
                                    <div class="error-message" id="firstPreferenceError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label>ุงูุฑุบุจุฉ ุงูุซุงููุฉ</label>
                                    <select name="ุงูุฑุบุจุฉ_ุงูุซุงููุฉ" id="secondPreference">
                                        <option value="">ุงุฎุชุฑ ุงูุชุฎุตุต</option>
                                        <!-- ุณูุชู ุชุนุจุฆุชูุง ุชููุงุฆูุงู -->
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>ููุงุญุธุงุช ุฅุถุงููุฉ</label>
                                <textarea name="ููุงุญุธุงุช" id="notes" rows="3" placeholder="ุฃู ูุนูููุงุช ุฅุถุงููุฉ ุชุฑูุฏ ุฅุถุงูุชูุง..."></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <div class="button-container">
                        <button type="submit" class="submit-btn" id="submitBtn">
                            <i class="fas fa-paper-plane"></i>
                            ุฅุฑุณุงู ุงูุทูุจ
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="footer">
            <div class="footer-info">
                <div>
                    <i class="fas fa-phone"></i>
                    <span>ูุงุชู ุงูุฏุนู: 011-123-4567</span>
                </div>
                <div>
                    <i class="fas fa-envelope"></i>
                    <span>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: info@tvtc.edu.sa</span>
                </div>
                <div>
                    <i class="fas fa-clock"></i>
                    <span>ุณุงุนุงุช ุงูุนูู: 8 ุตุจุงุญุงู - 4 ุนุตุฑุงู</span>
                </div>
                <div>
                    <i class="fas fa-map-marker-alt"></i>
                    <span>ุงูุฑูุงุถ - ุทุฑูู ุงูููู ููุฏ</span>
                </div>
            </div>
            
            <div class="social-links">
                <a href="#" title="ุชููุชุฑ"><i class="fab fa-twitter"></i></a>
                <a href="#" title="ููุณุจูู"><i class="fab fa-facebook-f"></i></a>
                <a href="#" title="ุฅูุณุชุฌุฑุงู"><i class="fab fa-instagram"></i></a>
                <a href="#" title="ููุชููุจ"><i class="fab fa-youtube"></i></a>
                <a href="#" title="ููููุฏ ุฅู"><i class="fab fa-linkedin-in"></i></a>
            </div>
            
            <p>ุฌููุน ุงูุญููู ูุญููุธุฉ &copy; ุงููููุฉ ุงูุชูููุฉ 2024 | <a href="#">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a> | <a href="#">ุดุฑูุท ุงูุงุณุชุฎุฏุงู</a> | <a href="#">ุฎุฑูุทุฉ ุงููููุน</a></p>
            <p style="margin-top: 10px; font-size: 12px; color: #888;">ูุฐุง ุงููุธุงู ููุฏู ูู ุฅุฏุงุฑุฉ ุงููุจูู ูุงูุชุณุฌูู - ุงูุฅุตุฏุงุฑ 2.1</p>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // โ ุนูุงุตุฑ DOM ุงูุฃุณุงุณูุฉ
        const registrationForm = document.getElementById('registrationForm');
        const applicantTypeInput = document.getElementById('applicantType');
        const studyTypeSelect = document.getElementById('studyType');
        const firstPreferenceSelect = document.getElementById('firstPreference');
        const secondPreferenceSelect = document.getElementById('secondPreference');
        const paymentWarning = document.getElementById('paymentWarning');
        const paymentCheckbox = document.getElementById('paymentCheckbox');
        const paymentAgreement = document.getElementById('paymentAgreement');
        const submitBtn = document.getElementById('submitBtn');
        const formContainer = document.getElementById('formContainer');
        const successMessage = document.getElementById('successMessage');
        const replyToEmail = document.getElementById('replyToEmail');
        const emailField = document.getElementById('email');
        
        // โ ุชุฎุฒูู ุงูุจูุงูุงุช ุงูุฃุตููุฉ
        const originalSpecializations = [];
        const allSpecializations = [];
        
        // โ ุญูุธ ุงูุชุฎุตุตุงุช ุงูุฃุตููุฉ
        Array.from(firstPreferenceSelect.options).forEach(option => {
            if (option.value) {
                originalSpecializations.push({
                    value: option.value,
                    text: option.textContent,
                    group: option.parentElement.label
                });
                allSpecializations.push({
                    value: option.value,
                    text: option.textContent,
                    group: option.parentElement.label
                });
            }
        });
        
        // โ 1. ุชูุนูู ุงุฎุชูุงุฑ ููุน ุงููุชูุฏู
        document.querySelectorAll('.applicant-type').forEach(type => {
            type.addEventListener('click', function() {
                const selectedType = this.getAttribute('data-type');
                
                // ุชุญุฏูุซ ุงููุธูุฑ
                document.querySelectorAll('.applicant-type').forEach(t => t.classList.remove('selected'));
                this.classList.add('selected');
                
                // ุชุญุฏูุซ ุงูุญูู ุงููุฎูู
                applicantTypeInput.value = selectedType;
                
                // ุชุญุฏูุซ ุงูุญููู ุงูุฃูุงุฏูููุฉ
                updateAcademicFields(selectedType);
                
                // ููุชุฑุฉ ุงูุชุฎุตุตุงุช ููุชุฌุณูุฑ
                if (selectedType === 'bridging') {
                    filterBridgingSpecializations();
                    showBridgingAlert();
                } else {
                    restoreAllSpecializations();
                }
                
                updateProgressBar();
            });
        });
        
        // โ 2. ุชุญุฏูุซ ุงูุญููู ุงูุฃูุงุฏูููุฉ
        function updateAcademicFields(applicantType) {
            // ุฅุฎูุงุก ุฌููุน ุงูุญููู
            document.getElementById('newStudentFields').classList.add('hidden');
            document.getElementById('currentStudentFields').classList.add('hidden');
            document.getElementById('transferStudentFields').classList.add('hidden');
            
            // ุฅุธูุงุฑ ุงูุญููู ุงูููุงุณุจุฉ
            if (applicantType === 'new' || applicantType === 'bridging') {
                document.getElementById('newStudentFields').classList.remove('hidden');
            } else if (applicantType === 'current') {
                document.getElementById('currentStudentFields').classList.remove('hidden');
            } else if (applicantType === 'transfer') {
                document.getElementById('transferStudentFields').classList.remove('hidden');
            }
        }
        
        // โ 3. ููุชุฑุฉ ุชุฎุตุตุงุช ุงูุชุฌุณูุฑ
        function filterBridgingSpecializations() {
            firstPreferenceSelect.innerHTML = '';
            secondPreferenceSelect.innerHTML = '<option value="">ุงุฎุชุฑ ุงูุชุฎุตุต</option>';
            
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'ุงุฎุชุฑ ุงูุชุฎุตุต';
            firstPreferenceSelect.appendChild(defaultOption);
            
            const bridgingSpecializations = [
                { value: 'ุจูุงููุฑููุณ ุงูููู ุงูููุฑุจุงุฆูุฉ', text: 'ุจูุงููุฑููุณ ุงูููู ุงูููุฑุจุงุฆูุฉ', group: 'ุงูุชูููุฉ ุงูููุฑุจุงุฆูุฉ' },
                { value: 'ุจูุงููุฑููุณ ุงูุชูููุฉ ุงููููุงููููุฉ', text: 'ุจูุงููุฑููุณ ุงูุชูููุฉ ุงููููุงููููุฉ', group: 'ุงูุชูููุฉ ุงููููุงููููุฉ' },
                { value: 'ุจูุงููุฑููุณ ุฏุนู ูุธู ุงูุดุจูุงุช', text: 'ุจูุงููุฑููุณ ุฏุนู ูุธู ุงูุดุจูุงุช', group: 'ุงูุญุงุณุจ ูุชูููุฉ ุงููุนูููุงุช' },
                { value: 'ุจูุงููุฑููุณ ุจุฑูุฌุฉ ุงูุญุงุณุจ', text: 'ุจูุงููุฑููุณ ุจุฑูุฌุฉ ุงูุญุงุณุจ', group: 'ุงูุญุงุณุจ ูุชูููุฉ ุงููุนูููุงุช' },
                { value: 'ุจูุงููุฑููุณ ุฅุฏุงุฑุฉ ุงูุฃุนูุงู', text: 'ุจูุงููุฑููุณ ุฅุฏุงุฑุฉ ุงูุฃุนูุงู', group: 'ุงูุชูููุฉ ุงูุฅุฏุงุฑูุฉ' },
                { value: 'ุจูุงููุฑููุณ ุงููุญุงุณุจุฉ', text: 'ุจูุงููุฑููุณ ุงููุญุงุณุจุฉ', group: 'ุงูุชูููุฉ ุงูุฅุฏุงุฑูุฉ' }
            ];
            
            const groupedSpecializations = {};
            bridgingSpecializations.forEach(spec => {
                if (!groupedSpecializations[spec.group]) {
                    groupedSpecializations[spec.group] = [];
                }
                groupedSpecializations[spec.group].push(spec);
            });
            
            for (const group in groupedSpecializations) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = group;
                
                groupedSpecializations[group].forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec.value;
                    option.textContent = spec.text;
                    optgroup.appendChild(option);
                });
                
                firstPreferenceSelect.appendChild(optgroup);
            }
        }
        
        // โ 4. ุงุณุชุนุงุฏุฉ ุฌููุน ุงูุชุฎุตุตุงุช
        function restoreAllSpecializations() {
            firstPreferenceSelect.innerHTML = '';
            
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'ุงุฎุชุฑ ุงูุชุฎุตุต';
            firstPreferenceSelect.appendChild(defaultOption);
            
            const groupedOptions = {};
            originalSpecializations.forEach(spec => {
                if (!groupedOptions[spec.group]) {
                    groupedOptions[spec.group] = [];
                }
                groupedOptions[spec.group].push(spec);
            });
            
            for (const group in groupedOptions) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = group;
                
                groupedOptions[group].forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec.value;
                    option.textContent = spec.text;
                    optgroup.appendChild(option);
                });
                
                firstPreferenceSelect.appendChild(optgroup);
            }
        }
        
        // โ 5. ุฅุธูุงุฑ ุชูุจูู ุงูุชุฌุณูุฑ
        function showBridgingAlert() {
            const existingAlert = document.querySelector('.bridging-alert');
            if (existingAlert) existingAlert.remove();
            
            const academicSection = document.querySelector('.form-section:nth-child(5)');
            const bridgingAlert = document.createElement('div');
            bridgingAlert.className = 'alert alert-warning bridging-alert';
            bridgingAlert.innerHTML = `
                <i class="fas fa-university"></i>
                <strong>ุจุฑูุงูุฌ ุงูุชุฌุณูุฑ:</strong> ูุฐุง ุงูุจุฑูุงูุฌ ูุฎุตุต ูุฎุฑูุฌู ุงูุฏุจููู ุงูุฑุงุบุจูู ูู ุงุณุชููุงู ุฏุฑุงุณุชูู ููุญุตูู ุนูู ุฏุฑุฌุฉ ุงูุจูุงููุฑููุณ. ูุฌุจ ุฅุฑูุงู ุตูุฑุฉ ูู ุดูุงุฏุฉ ุงูุฏุจููู ูุน ุงูุทูุจ.
            `;
            
            academicSection.parentNode.insertBefore(bridgingAlert, academicSection.nextSibling);
        }
        
        // โ 6. ุชูุนูู ุชูุจูู ุงูุฑุณูู
        studyTypeSelect.addEventListener('change', function() {
            if (this.value === 'ูุณุงุฆู' || this.value === 'ุชุนููู ุนู ุจุนุฏ') {
                paymentWarning.style.display = 'block';
                paymentCheckbox.classList.remove('hidden');
                paymentAgreement.required = true;
                
                // ุชูุจูู ููุฑู
                setTimeout(() => {
                    alert(`ุชูุจูู: ุงููุณุงุฑ (${this.value}) ุจุฑุณูู ุฏุฑุงุณูุฉ.\n\nูุฑุฌู ุงูุนูู ุฃู ุงูุฏูุน ูุง ูุชู ุงูุขูุ ุจู ุณูููู ุนูุฏ ูุฑุงุฌุนุฉ ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ูุงููุงููุฉ.`);
                }, 300);
            } else {
                paymentWarning.style.display = 'none';
                paymentCheckbox.classList.add('hidden');
                paymentAgreement.required = false;
                paymentAgreement.checked = false;
            }
            
            updateProgressBar();
        });
        
        // โ 7. ุชุญุฏูุซ ุดุฑูุท ุงูุชูุฏู
        function updateProgressBar() {
            const requiredFields = registrationForm.querySelectorAll('[required]');
            const filledFields = Array.from(requiredFields).filter(field => {
                if (field.type === 'checkbox') return field.checked;
                return field.value.trim() !== '';
            });
            
            const progress = requiredFields.length > 0 ? (filledFields.length / requiredFields.length) * 100 : 0;
            document.getElementById('progressFill').style.width = `${progress}%`;
        }
        
        // โ 8. ุชุญุฏูุซ ุงูุฑุบุจุฉ ุงูุซุงููุฉ
        firstPreferenceSelect.addEventListener('change', function() {
            updateSecondPreferenceOptions();
            updateProgressBar();
        });
        
        function updateSecondPreferenceOptions() {
            const selectedFirst = firstPreferenceSelect.value;
            secondPreferenceSelect.innerHTML = '<option value="">ุงุฎุชุฑ ุงูุชุฎุตุต</option>';
            
            const groupedOptions = {};
            allSpecializations.forEach(spec => {
                if (spec.value !== selectedFirst) {
                    if (!groupedOptions[spec.group]) {
                        groupedOptions[spec.group] = [];
                    }
                    groupedOptions[spec.group].push(spec);
                }
            });
            
            for (const group in groupedOptions) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = group;
                
                groupedOptions[group].forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec.value;
                    option.textContent = spec.text;
                    optgroup.appendChild(option);
                });
                
                secondPreferenceSelect.appendChild(optgroup);
            }
        }
        
        // โ 9. ุชูุนูู ุชุญุฏูุซ ุงูุชูุฏู
        registrationForm.querySelectorAll('input, select, textarea').forEach(field => {
            field.addEventListener('input', updateProgressBar);
            field.addEventListener('change', updateProgressBar);
        });
        
        // โ 10. ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
        function validateForm() {
            let isValid = true;
            
            // ุฅุฎูุงุก ุฌููุน ุฑุณุงุฆู ุงูุฎุทุฃ
            document.querySelectorAll('.error-message').forEach(el => {
                el.style.display = 'none';
                el.textContent = '';
            });
            
            // ุฅุฒุงูุฉ ุฌููุน ุฃุฎุทุงุก ุงูุชูุณูู
            document.querySelectorAll('.has-error').forEach(el => {
                el.classList.remove('has-error');
            });
            
            // ุงูุชุญูู ูู ุงูุญููู ุงููุทููุจุฉ
            const requiredFields = registrationForm.querySelectorAll('[required]');
            requiredFields.forEach(field => {
                const errorElement = document.getElementById(field.id + 'Error');
                
                if (field.type === 'checkbox') {
                    if (!field.checked) {
                        isValid = false;
                        if (errorElement) {
                            errorElement.textContent = 'ูุฐุง ุงูุญูู ูุทููุจ';
                            errorElement.style.display = 'block';
                        }
                    }
                } else {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.classList.add('has-error');
                        if (errorElement) {
                            errorElement.textContent = 'ูุฐุง ุงูุญูู ูุทููุจ';
                            errorElement.style.display = 'block';
                        }
                    }
                }
            });
            
            // ุงูุชุญูู ูู ุฑูู ุงููููุฉ
            const idNumber = document.getElementById('idNumber');
            const idPattern = /^[0-9]{10,11}$/;
            if (idNumber.value && !idPattern.test(idNumber.value)) {
                isValid = false;
                idNumber.classList.add('has-error');
                const errorElement = document.getElementById('idNumberError');
                if (errorElement) {
                    errorElement.textContent = 'ุฑูู ุงููููุฉ/ุงูุฅูุงูุฉ ุบูุฑ ุตุญูุญ. ูุฌุจ ุฃู ูุญุชูู ุนูู 10 ุฃู 11 ุฑูููุง.';
                    errorElement.style.display = 'block';
                }
            }
            
            // ุงูุชุญูู ูู ุฑูู ุงูุฌูุงู
            const phoneNumber = document.getElementById('phoneNumber');
            const phonePattern = /^05[0-9]{8}$/;
            if (phoneNumber.value && !phonePattern.test(phoneNumber.value)) {
                isValid = false;
                phoneNumber.classList.add('has-error');
                const errorElement = document.getElementById('phoneNumberError');
                if (errorElement) {
                    errorElement.textContent = 'ุฑูู ุงูุฌูุงู ุบูุฑ ุตุญูุญ. ูุฌุจ ุฃู ูุจุฏุฃ ุจู 05 ููุญุชูู ุนูู 10 ุฃุฑูุงู.';
                    errorElement.style.display = 'block';
                }
            }
            
            // ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
            const email = document.getElementById('email');
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (email.value && !emailPattern.test(email.value)) {
                isValid = false;
                email.classList.add('has-error');
                const errorElement = document.getElementById('emailError');
                if (errorElement) {
                    errorElement.textContent = 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุญูุญ.';
                    errorElement.style.display = 'block';
                }
            }
            
            // ุงูุชุญูู ูู ุงูููุงููุฉ ุนูู ุงูุฑุณูู
            const studyType = studyTypeSelect.value;
            if ((studyType === 'ูุณุงุฆู' || studyType === 'ุชุนููู ุนู ุจุนุฏ') && !paymentAgreement.checked) {
                isValid = false;
                paymentAgreement.classList.add('has-error');
                const errorElement = document.getElementById('paymentAgreementError');
                if (!errorElement) {
                    const newError = document.createElement('div');
                    newError.className = 'error-message';
                    newError.id = 'paymentAgreementError';
                    newError.textContent = 'ูุฌุจ ุงูููุงููุฉ ุนูู ุฃู ุงููุณุงุฑ ุจุฑุณูู ุฏุฑุงุณูุฉ.';
                    newError.style.display = 'block';
                    paymentCheckbox.appendChild(newError);
                }
            }
            
            return isValid;
        }
        
        // โ 11. ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู Web3Forms
        async function submitFormToWeb3Forms(formData) {
            const url = 'https://api.web3forms.com/submit';
            
            // ุชุญููู FormData ุฅูู ูุงุฆู
            const formObject = {};
            formData.forEach((value, key) => {
                formObject[key] = value;
            });
            
            // ุฅุถุงูุฉ ูุนูููุงุช ุฅุถุงููุฉ
            formObject['timestamp'] = new Date().toISOString();
            formObject['user_agent'] = navigator.userAgent;
            formObject['page_url'] = window.location.href;
            
            // ุฅุฑุณุงู ุงูุจูุงูุงุช
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: JSON.stringify(formObject)
            });
            
            const result = await response.json();
            return result;
        }
        
        // โ 12. ูุนุงูุฌุฉ ุฅุฑุณุงู ุงููููุฐุฌ
        registrationForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
            if (!validateForm()) {
                alert('ูุฑุฌู ุชุตุญูุญ ุงูุฃุฎุทุงุก ูู ุงููููุฐุฌ ูุจู ุงูุฅุฑุณุงู.');
                return;
            }
            
            // ุฅุนุฏุงุฏ ุงูุจุฑูุฏ ููุฑุฏ
            if (emailField && emailField.value) {
                replyToEmail.value = emailField.value;
            }
            
            // ุนุฑุถ ุญุงูุฉ ุงูุชุญููู
            const originalBtnText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<span class="loading"></span> ุฌุงุฑู ุงูุฅุฑุณุงู...';
            submitBtn.disabled = true;
            
            // ุฑุณุงูุฉ ุงูุชุฃููุฏ
            const studyType = studyTypeSelect.value;
            const applicantType = applicantTypeInput.value;
            
            let confirmationMessage = 'ูู ุฃูุช ูุชุฃูุฏ ูู ุฅุฑุณุงู ุทูุจ ุงูุชุณุฌููุ\n\n';
            
            if (studyType === 'ูุณุงุฆู' || studyType === 'ุชุนููู ุนู ุจุนุฏ') {
                confirmationMessage += 'โ๏ธ ุชูุจูู: ุงููุณุงุฑ ุงูุฐู ุงุฎุชุฑุชู (' + studyType + ') ุจุฑุณูู ุฏุฑุงุณูุฉ.\n';
            }
            
            if (applicantType === 'bridging') {
                confirmationMessage += '๐ ููุงุญุธุฉ: ุจุฑูุงูุฌ ุงูุชุฌุณูุฑ ูุชุทูุจ ุฅุฑูุงู ุดูุงุฏุฉ ุงูุฏุจููู.\n';
            }
            
            confirmationMessage += '\nูุฑุฌู ุงูุนูู:\n';
            confirmationMessage += '1. ุงูุฏูุน ูุง ูุชู ุงูุขู\n';
            confirmationMessage += '2. ุณูููู ุงูุฏูุน ุนูุฏ ูุฑุงุฌุนุฉ ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ\n';
            confirmationMessage += '3. ุณุชุตูู ุฑุณุงูุฉ ุชุฃููุฏ ุนูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู\n\n';
            
            confirmationMessage += 'ูู ุชุฑูุฏ ุงููุชุงุจุนุฉุ';
            
            if (confirm(confirmationMessage)) {
                try {
                    // ุฌูุน ุงูุจูุงูุงุช
                    const formData = new FormData(registrationForm);
                    
                    // ุฅุฑุณุงู ุงูุจูุงูุงุช
                    const result = await submitFormToWeb3Forms(formData);
                    
                    if (result.success) {
                        // โ ุฅุฎูุงุก ุงููููุฐุฌ ูุฅุธูุงุฑ ุฑุณุงูุฉ ุงููุฌุงุญ
                        formContainer.style.display = 'none';
                        successMessage.style.display = 'block';
                        
                        // โ ุงูุชูุฑูุฑ ุฅูู ุงูุฃุนูู
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                        
                        // โ ุฅุถุงูุฉ ููุงุญุธุงุช ุฎุงุตุฉ
                        if (applicantType === 'bridging') {
                            const bridgingNote = document.createElement('p');
                            bridgingNote.innerHTML = '๐ <strong>ููุงุญุธุฉ ุฎุงุตุฉ ุจุจุฑูุงูุฌ ุงูุชุฌุณูุฑ:</strong> ูุฌุจ ุฅุญุถุงุฑ ุฃุตู ุดูุงุฏุฉ ุงูุฏุจููู ูุจูุงู ุงูุฏุฑุฌุงุช ุนูุฏ ุงููุฑุงุฌุนุฉ.';
                            bridgingNote.style.marginTop = '15px';
                            bridgingNote.style.padding = '10px';
                            bridgingNote.style.backgroundColor = '#e3f2fd';
                            bridgingNote.style.borderRadius = '5px';
                            successMessage.appendChild(bridgingNote);
                        }
                        
                        if (studyType === 'ูุณุงุฆู' || studyType === 'ุชุนููู ุนู ุจุนุฏ') {
                            const feesNote = document.createElement('p');
                            feesNote.innerHTML = '๐ฐ <strong>ููุงุญุธุฉ ุฎุงุตุฉ ุจุงูุฑุณูู ุงูุฏุฑุงุณูุฉ:</strong> ุณูุชู ุงูุชูุงุตู ูุนู ูู ูุจู ุงูุดุคูู ุงูุฅุฏุงุฑูุฉ ูุงููุงููุฉ ูุชูุถูุญ ุขููุฉ ุงูุฏูุน ูุงูุฑุณูู ุงูุฏุฑุงุณูุฉ. ุงูุฏูุน ูุง ูุชู ุงูุขู.';
                            feesNote.style.marginTop = '15px';
                            feesNote.style.padding = '10px';
                            feesNote.style.backgroundColor = '#fff3e0';
                            feesNote.style.borderRadius = '5px';
                            successMessage.appendChild(feesNote);
                        }
                        
                        // โ ุฅุนุงุฏุฉ ุชุนููู ุงููููุฐุฌ
                        registrationForm.reset();
                        document.querySelectorAll('.applicant-type').forEach(t => t.classList.remove('selected'));
                        document.querySelector('.applicant-type[data-type="new"]').classList.add('selected');
                        applicantTypeInput.value = 'new';
                        updateAcademicFields('new');
                        restoreAllSpecializations();
                        paymentWarning.style.display = 'none';
                        paymentCheckbox.classList.add('hidden');
                        paymentAgreement.required = false;
                        paymentAgreement.checked = false;
                        
                        console.log('โ ุชู ุฅุฑุณุงู ุงููููุฐุฌ ุจูุฌุงุญ!');
                    } else {
                        throw new Error(result.message || 'ูุดู ูู ุฅุฑุณุงู ุงูุทูุจ');
                    }
                } catch (error) {
                    console.error('โ ุฎุทุฃ ูู ุงูุฅุฑุณุงู:', error);
                    alert('ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅุฑุณุงู ุงูุทูุจ:\n\n' + error.message + '\n\nูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.');
                    submitBtn.innerHTML = originalBtnText;
                    submitBtn.disabled = false;
                }
            } else {
                // ุฅูุบุงุก ุงูุฅุฑุณุงู
                submitBtn.innerHTML = originalBtnText;
                submitBtn.disabled = false;
            }
        });
        
        // โ 13. ุงูุชุญูู ุงูููุฑู ูู ุงูุจูุงูุงุช
        document.getElementById('idNumber').addEventListener('blur', function() {
            const idPattern = /^[0-9]{10,11}$/;
            if (this.value && !idPattern.test(this.value)) {
                this.classList.add('has-error');
                const errorElement = document.getElementById('idNumberError');
                if (errorElement) {
                    errorElement.textContent = 'ุฑูู ุงููููุฉ/ุงูุฅูุงูุฉ ุบูุฑ ุตุญูุญ. ูุฌุจ ุฃู ูุญุชูู ุนูู 10 ุฃู 11 ุฑูููุง.';
                    errorElement.style.display = 'block';
                }
            } else {
                this.classList.remove('has-error');
                const errorElement = document.getElementById('idNumberError');
                if (errorElement) errorElement.style.display = 'none';
            }
        });
        
        document.getElementById('phoneNumber').addEventListener('blur', function() {
            const phonePattern = /^05[0-9]{8}$/;
            if (this.value && !phonePattern.test(this.value)) {
                this.classList.add('has-error');
                const errorElement = document.getElementById('phoneNumberError');
                if (errorElement) {
                    errorElement.textContent = 'ุฑูู ุงูุฌูุงู ุบูุฑ ุตุญูุญ. ูุฌุจ ุฃู ูุจุฏุฃ ุจู 05 ููุญุชูู ุนูู 10 ุฃุฑูุงู.';
                    errorElement.style.display = 'block';
                }
            } else {
                this.classList.remove('has-error');
                const errorElement = document.getElementById('phoneNumberError');
                if (errorElement) errorElement.style.display = 'none';
            }
        });
        
        // โ 14. ุชููุฆุฉ ุงููุธุงู
        updateProgressBar();
        updateSecondPreferenceOptions();
        
        console.log('โ ูุธุงู ุงูุชุณุฌูู ุงูุฅููุชุฑููู ุฌุงูุฒ ููุนูู!');
    });
    </script>
</body>
                                      </html>
